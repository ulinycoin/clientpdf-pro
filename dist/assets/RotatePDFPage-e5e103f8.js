import{r as d,j as e}from"./react-vendor-7056d561.js";import{S as E,t as I}from"./SEOHead-62068eeb.js";import{B as b,P as k,u as B,H as z,F as A,g as O,d as $}from"./index-d5079f2d.js";import{P as S,d as H}from"./pdf-lib-vendor-cbec66d4.js";import{U}from"./UploadSection-f7e5251f.js";import"./pdfjs-vendor-36642749.js";import{R as L}from"./RelatedTools-29970fb3.js";import"./vendor-3f6e9ecd.js";import"./router-vendor-bd41c70c.js";import"./utils-vendor-4b732c04.js";import"./FileUploadZone-a9764bc0.js";class R{static async rotatePDF(n,i){try{const l=await n.arrayBuffer(),m=await S.load(l),r=m.getPageCount(),c=i.pages||Array.from({length:r},(a,o)=>o),x=c.filter(a=>a<0||a>=r);if(x.length>0)return{success:!1,error:{code:"INVALID_PAGES",message:`Invalid page numbers: ${x.map(a=>a+1).join(", ")}`},metadata:{totalPages:r}};c.forEach(a=>{m.getPage(a).setRotation(H(i.rotation))});const g=await m.save();return{success:!0,data:new Blob([g],{type:"application/pdf"}),metadata:{originalSize:n.size,processedSize:g.length,totalPages:r,rotatedPages:c.length,rotation:i.rotation}}}catch(l){return console.error("Rotate error:",l),{success:!1,error:{code:"ROTATION_FAILED",message:l instanceof Error?l.message:"Rotation failed"},metadata:{originalSize:n.size}}}}static async getPageInfo(n){try{const i=await n.arrayBuffer(),l=await S.load(i),m=l.getPageCount(),r=[];for(let c=0;c<m;c++){const x=l.getPage(c),{width:g,height:a}=x.getSize(),o=x.getRotation().angle,u=o===90||o===270,j=u?a:g,N=u?g:a;r.push(j>N?"landscape":"portrait")}return{totalPages:m,pageOrientations:r}}catch(i){return console.error("Error getting page info:",i),null}}}const _=({files:s,onComplete:n,onClose:i})=>{const[l,m]=d.useState(90),[r,c]=d.useState("all"),[x,g]=d.useState(""),[a,o]=d.useState(!1),[u,j]=d.useState(0),[N,y]=d.useState(null),[f,F]=d.useState(null),h=s[0];d.useEffect(()=>{(async()=>{if(h){const p=await R.getPageInfo(h);F(p)}})()},[h]);const T=async()=>{if(h){o(!0),j(0),y(null);try{let t={rotation:l};if(r==="specific"){const w=x.split(",").map(v=>{const P=parseInt(v.trim());return isNaN(P)?-1:P-1}).filter(v=>v>=0);if(w.length===0){y("Please enter valid page numbers"),o(!1);return}t.pages=w}j(50);const p=await R.rotatePDF(h,t);if(j(100),!p.success){y(p.error?.message||"Rotation failed");return}setTimeout(()=>{n(p)},500)}catch(t){console.error("Rotate error:",t),y(t instanceof Error?t.message:"Rotation failed")}finally{o(!1)}}},D=()=>{o(!1),i()},C=t=>{switch(t){case 90:return"â†»";case 180:return"â†»â†»";case 270:return"â†º";default:return"â†»"}};return h?e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Rotate PDF"}),e.jsx(b,{onClick:i,variant:"outline",size:"sm",children:"Close"})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded",children:[e.jsx("div",{className:"text-red-500 text-xl",children:"ðŸ“„"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:h.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[(h.size/1024/1024).toFixed(2)," MB",f&&` â€¢ ${f.totalPages} pages`]})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Rotation Angle"}),e.jsx("div",{className:"flex space-x-4",children:[90,180,270].map(t=>e.jsxs("button",{onClick:()=>m(t),className:`p-4 rounded-lg border-2 transition-colors ${l===t?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,disabled:a,children:[e.jsx("div",{className:"text-2xl mb-1",children:C(t)}),e.jsxs("div",{className:"text-sm font-medium",children:[t,"Â°"]})]},t))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Pages to Rotate"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"pageSelection",value:"all",checked:r==="all",onChange:t=>c(t.target.value),className:"mr-2",disabled:a}),e.jsx("span",{children:"All pages"}),f&&e.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["(",f.totalPages," pages)"]})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"pageSelection",value:"specific",checked:r==="specific",onChange:t=>c(t.target.value),className:"mr-2",disabled:a}),e.jsx("span",{children:"Specific pages"})]})]})]}),r==="specific"&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Page Numbers"}),e.jsx("input",{type:"text",placeholder:"e.g., 1, 3, 5, 7",value:x,onChange:t=>g(t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded text-sm",disabled:a}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter page numbers separated by commas."})]}),f&&e.jsxs("div",{className:"mb-6 p-3 bg-gray-50 rounded",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Page Overview"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:f.pageOrientations.map((t,p)=>e.jsx("div",{className:`w-6 h-8 text-xs flex items-center justify-center rounded ${t==="portrait"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,title:`Page ${p+1} - ${t}`,children:p+1},p))}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Blue: Portrait â€¢ Green: Landscape"})]}),a&&e.jsxs("div",{className:"mb-6",children:[e.jsx(k,{progress:u}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:u<50?"Analyzing PDF...":"Rotating pages..."})]}),N&&e.jsx("div",{className:"mb-6 p-3 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-600 text-sm",children:N})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(b,{onClick:T,disabled:a,loading:a,className:"flex-1",children:a?"Rotating...":`Rotate ${l}Â°`}),e.jsx(b,{onClick:D,variant:"outline",disabled:a,children:"Cancel"})]}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded",children:e.jsxs("p",{className:"text-blue-700 text-sm",children:[e.jsx("strong",{children:"Note:"})," The rotated PDF will be downloaded automatically."]})})]}):e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Rotate PDF"}),e.jsx("p",{className:"text-red-600 mb-4",children:"Please select a PDF file to rotate."}),e.jsx(b,{onClick:i,variant:"outline",children:"Close"})]})},ee=()=>{const{t:s}=B(),n=I.rotate,[i,l]=d.useState([]),[m,r]=d.useState(!1);d.useEffect(()=>{window.scrollTo(0,0)},[]);const c=o=>{l(o),r(!0)},x=o=>{if(o.success&&o.data){const u=O(i[0]?.name||"document","rotated","pdf");$(o.data,u)}},g=()=>{r(!1),l([])},a=()=>{r(!1),l([])};return e.jsxs(e.Fragment,{children:[e.jsx(E,{title:n.title,description:n.description,keywords:n.keywords,canonical:n.canonical,structuredData:n.structuredData}),e.jsxs("div",{className:"min-h-screen bg-gradient-mesh flex flex-col",children:[e.jsx(z,{}),e.jsxs("main",{className:"flex-grow container mx-auto px-4 pt-20 pb-8",children:[e.jsxs("header",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:s("pages.tools.rotate.pageTitle")}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:s("pages.tools.rotate.pageDescription")})]}),m?e.jsxs("section",{className:"mb-12",children:[e.jsx("div",{className:"mb-4 flex justify-center",children:e.jsx(b,{variant:"outline",onClick:a,className:"flex items-center",children:s("pages.tools.rotate.buttons.uploadDifferent")})}),e.jsx(_,{files:i,onComplete:x,onClose:g})]}):e.jsx("section",{className:"mb-12",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx(U,{onFilesSelected:c,acceptedTypes:[".pdf"],maxFiles:1,title:s("pages.tools.rotate.uploadTitle"),subtitle:s("pages.tools.rotate.uploadSubtitle"),emoji:"ðŸ”„",supportedFormats:"PDF files"}),e.jsxs("div",{className:"mt-8 grid md:grid-cols-2 gap-6 text-sm text-gray-600",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:s("pages.tools.rotate.features.title")}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:s("pages.tools.rotate.features.items.angles")}),e.jsx("li",{children:s("pages.tools.rotate.features.items.selection")}),e.jsx("li",{children:s("pages.tools.rotate.features.items.preview")}),e.jsx("li",{children:s("pages.tools.rotate.features.items.quality")})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:s("pages.tools.rotate.privacy.title")}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:s("pages.tools.rotate.privacy.items.clientSide")}),e.jsx("li",{children:s("pages.tools.rotate.privacy.items.noUploads")}),e.jsx("li",{children:s("pages.tools.rotate.privacy.items.localProcessing")}),e.jsx("li",{children:s("pages.tools.rotate.privacy.items.instantProcessing")})]})]})]})]})}),e.jsx(L,{currentTool:"rotate",className:"mb-8"}),e.jsx("section",{className:"mt-16 bg-gradient-to-r from-orange-50 to-red-50 rounded-xl p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-8",children:s("pages.tools.rotate.benefits.title")}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-orange-600 text-2xl",children:"âš¡"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:s("pages.tools.rotate.benefits.instant.title")}),e.jsx("p",{className:"text-gray-600",children:s("pages.tools.rotate.benefits.instant.description")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-red-600 text-2xl",children:"ðŸŽ¯"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:s("pages.tools.rotate.benefits.precise.title")}),e.jsx("p",{className:"text-gray-600",children:s("pages.tools.rotate.benefits.precise.description")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-green-600 text-2xl",children:"ðŸ”’"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:s("pages.tools.rotate.benefits.private.title")}),e.jsx("p",{className:"text-gray-600",children:s("pages.tools.rotate.benefits.private.description")})]})]})]})}),e.jsx("section",{className:"mt-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-12",children:s("pages.tools.rotate.howTo.title")}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-orange-600 font-bold",children:"1"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:s("pages.tools.rotate.howTo.steps.upload.title")}),e.jsx("p",{className:"text-sm text-gray-600",children:s("pages.tools.rotate.howTo.steps.upload.description")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-orange-600 font-bold",children:"2"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:s("pages.tools.rotate.howTo.steps.select.title")}),e.jsx("p",{className:"text-sm text-gray-600",children:s("pages.tools.rotate.howTo.steps.select.description")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-orange-600 font-bold",children:"3"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:s("pages.tools.rotate.howTo.steps.angle.title")}),e.jsx("p",{className:"text-sm text-gray-600",children:s("pages.tools.rotate.howTo.steps.angle.description")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-orange-600 font-bold",children:"4"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:s("pages.tools.rotate.howTo.steps.download.title")}),e.jsx("p",{className:"text-sm text-gray-600",children:s("pages.tools.rotate.howTo.steps.download.description")})]})]})]})})]}),e.jsx(A,{})]})]})};export{ee as default};
