import{r as i,j as e}from"./react-vendor-7056d561.js";import{S as k,t as C}from"./SEOHead-62068eeb.js";import{a as M,c as w,B as b,P,u as q,H as z,F as B,g as D,d as E}from"./index-d5079f2d.js";import"./pdf-lib-vendor-cbec66d4.js";import{U as O}from"./UploadSection-f7e5251f.js";import"./pdfjs-vendor-36642749.js";import{R as W}from"./RelatedTools-29970fb3.js";import{F as I}from"./FAQSection-00df29a0.js";import"./vendor-3f6e9ecd.js";import"./router-vendor-bd41c70c.js";import"./utils-vendor-4b732c04.js";import"./FileUploadZone-a9764bc0.js";const R=({files:s,onComplete:c,onClose:d,className:x=""})=>{const{t}=M(),[l,p]=i.useState(!1),[f,h]=i.useState(0),[N,g]=i.useState(""),[r,n]=i.useState(null),[m,u]=i.useState(()=>s.length>0?w.getRecommendedSettings(s[0]):{quality:.8,imageCompression:!0,removeMetadata:!1,optimizeForWeb:!0}),T=async()=>{if(s.length===0){n(t("common.selectFile"));return}p(!0),h(0),g(t("tools.compress.starting")),n(null);try{const a=s[0],o=await w.compressPDF(a,m,(v,j)=>{h(v),g(j||"")});o.success?c(o):n(o.error?.message||t("tools.compress.failed"))}catch(a){n(a instanceof Error?a.message:t("common.unexpectedError"))}finally{p(!1)}},S=a=>{if(a===0)return"0 B";const o=1024,v=["B","KB","MB","GB"],j=Math.floor(Math.log(a)/Math.log(o));return`${parseFloat((a/Math.pow(o,j)).toFixed(1))} ${v[j]}`},F=s.length>0?w.estimateCompressionPotential(s[0]):0,y=s[0];return e.jsxs("div",{className:`bg-white rounded-lg shadow-lg p-6 ${x}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t("tools.compress.title")}),e.jsx("p",{className:"text-gray-600 mt-1",children:t("tools.compress.description")})]}),e.jsx(b,{variant:"ghost",onClick:d,children:"‚úï"})]}),y&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:[t("tools.compress.fileToCompress"),":"]}),e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-2xl",children:"üìÑ"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:y.name}),e.jsx("p",{className:"text-sm text-gray-500",children:S(y.size)})]}),F>0&&e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-green-600",children:["~",F,"% ",t("tools.compress.smaller")]}),e.jsx("p",{className:"text-xs text-gray-500",children:t("tools.compress.estimated")})]})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:[t("tools.compress.settings.title"),":"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t("tools.compress.settings.qualityLevel"),": ",Math.round(m.quality*100),"%"]}),e.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:m.quality,onChange:a=>u(o=>({...o,quality:parseFloat(a.target.value)})),disabled:l,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:t("tools.compress.settings.smallerFile")}),e.jsx("span",{children:t("tools.compress.settings.betterQuality")})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:m.imageCompression||!1,onChange:a=>u(o=>({...o,imageCompression:a.target.checked})),disabled:l,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-3 text-sm text-gray-700",children:t("tools.compress.settings.compressImages")})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:m.removeMetadata||!1,onChange:a=>u(o=>({...o,removeMetadata:a.target.checked})),disabled:l,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-3 text-sm text-gray-700",children:t("tools.compress.settings.removeMetadata")})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:m.optimizeForWeb||!1,onChange:a=>u(o=>({...o,optimizeForWeb:a.target.checked})),disabled:l,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-3 text-sm text-gray-700",children:t("tools.compress.settings.optimizeForWeb")})]})]})]})]}),l&&e.jsxs("div",{className:"mb-6",children:[e.jsx(P,{value:f,className:"mb-2",animated:!0}),e.jsx("p",{className:"text-sm text-gray-600 text-center",children:N})]}),r&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"text-red-400 mr-2",children:"‚ö†Ô∏è"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-red-800 font-medium",children:t("tools.compress.failed")}),e.jsx("p",{className:"text-red-600 text-sm mt-1",children:r})]})]})}),e.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-blue-400 mr-2 mt-0.5",children:"‚ÑπÔ∏è"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-blue-800 font-medium",children:t("tools.compress.howItWorks")}),e.jsx("p",{className:"text-blue-700 text-sm mt-1",children:t("tools.compress.howItWorksDescription")})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(b,{variant:"outline",onClick:d,disabled:l,children:t("common.cancel")}),e.jsx(b,{variant:"primary",onClick:T,disabled:s.length===0||l,loading:l,children:t(l?"tools.compress.compressing":"tools.compress.title")})]})]})},U=(s=0)=>{setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},s)},H=(s,c=100)=>{i.useEffect(()=>{U(c)},[s,c])},ee=()=>{const{t:s}=q(),c=C.compress,[d,x]=i.useState([]),[t,l]=i.useState(!1),p=s("pages.tools.compress.faq.items");H();const f=r=>{x(r),l(!0)},h=r=>{if(r.success&&r.data){const n=D(d[0]?.name||"document","compressed","pdf");E(r.data,n)}},N=()=>{l(!1),x([])},g=()=>{l(!1),x([])};return e.jsxs(e.Fragment,{children:[e.jsx(k,{title:c.title,description:c.description,keywords:c.keywords,canonical:c.canonical,structuredData:c.structuredData,faqSchema:p.map(r=>({question:r.question,answer:r.answer}))}),e.jsxs("div",{className:"min-h-screen bg-gradient-mesh flex flex-col",children:[e.jsx(z,{}),e.jsxs("main",{className:"flex-grow container mx-auto px-4 pt-20 pb-8",children:[e.jsxs("header",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:s("pages.tools.compress.pageTitle")}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:s("pages.tools.compress.pageDescription")})]}),t?e.jsxs("section",{className:"mb-12",children:[e.jsx("div",{className:"mb-4 flex justify-center",children:e.jsx(b,{variant:"outline",onClick:g,className:"flex items-center",children:s("pages.tools.compress.buttons.uploadDifferent")})}),e.jsx(R,{files:d,onComplete:h,onClose:N})]}):e.jsx("section",{className:"mb-12",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx(O,{onFilesSelected:f,acceptedTypes:[".pdf"],maxFiles:1,title:s("pages.tools.compress.uploadTitle"),subtitle:s("pages.tools.compress.uploadSubtitle"),emoji:"üóúÔ∏è",supportedFormats:s("common.pdfFiles")}),e.jsxs("div",{className:"mt-8 grid md:grid-cols-2 gap-6 text-sm text-gray-600",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:s("pages.tools.compress.features.title")}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:s("pages.tools.compress.features.items.qualitySettings")}),e.jsx("li",{children:s("pages.tools.compress.features.items.imageOptimization")}),e.jsx("li",{children:s("pages.tools.compress.features.items.removeMetadata")}),e.jsx("li",{children:s("pages.tools.compress.features.items.webOptimization")})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:s("pages.tools.compress.privacy.title")}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:s("pages.tools.compress.privacy.items.clientSide")}),e.jsx("li",{children:s("pages.tools.compress.privacy.items.noUploads")}),e.jsx("li",{children:s("pages.tools.compress.privacy.items.localProcessing")}),e.jsx("li",{children:s("pages.tools.compress.privacy.items.instantProcessing")})]})]})]})]})}),e.jsx("section",{className:"mt-12 mb-12",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6 text-center",children:s("pages.tools.compress.howTo.title")}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-green-600 font-bold",children:"1"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:s("pages.tools.compress.howTo.steps.upload.title")}),e.jsx("p",{className:"text-sm text-gray-600",children:s("pages.tools.compress.howTo.steps.upload.description")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-green-600 font-bold",children:"2"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:s("pages.tools.compress.howTo.steps.settings.title")}),e.jsx("p",{className:"text-sm text-gray-600",children:s("pages.tools.compress.howTo.steps.settings.description")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-green-600 font-bold",children:"3"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:s("pages.tools.compress.howTo.steps.compress.title")}),e.jsx("p",{className:"text-sm text-gray-600",children:s("pages.tools.compress.howTo.steps.compress.description")})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-green-600 font-bold",children:"4"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:s("pages.tools.compress.howTo.steps.download.title")}),e.jsx("p",{className:"text-sm text-gray-600",children:s("pages.tools.compress.howTo.steps.download.description")})]})]})]})})}),e.jsx(I,{title:s("pages.tools.compress.faqTitle"),faqs:p,className:"mb-8",defaultOpen:!1}),e.jsx(W,{currentTool:"compress",className:"mb-8"})]}),e.jsx(B,{})]})]})};export{ee as default};
