var U=Object.defineProperty;var L=(m,t,a)=>t in m?U(m,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):m[t]=a;var N=(m,t,a)=>(L(m,typeof t!="symbol"?t+"":t,a),a);import{r as u,j as e}from"./react-vendor-7056d561.js";import{S as V,t as Y}from"./SEOHead-62068eeb.js";import{g as R,d as $,B as C,P as G,u as K,H as Q,F as Z}from"./index-d5079f2d.js";import{S as T,P as q,f as J,r as X,d as _}from"./pdf-lib-vendor-cbec66d4.js";import{U as ee}from"./UploadSection-f7e5251f.js";import"./pdfjs-vendor-36642749.js";import{R as te}from"./RelatedTools-29970fb3.js";import"./vendor-3f6e9ecd.js";import"./router-vendor-bd41c70c.js";import"./utils-vendor-4b732c04.js";import"./FileUploadZone-a9764bc0.js";const A=class A{constructor(){N(this,"fontCache",new Map);N(this,"availableFonts",{Helvetica:{name:"Helvetica",displayName:"Helvetica",supportsCyrillic:!1,isStandard:!0},"Times-Roman":{name:"Times-Roman",displayName:"Times New Roman",supportsCyrillic:!1,isStandard:!0},Courier:{name:"Courier",displayName:"Courier",supportsCyrillic:!1,isStandard:!0},"DejaVu-Sans":{name:"DejaVu-Sans",displayName:"DejaVu Sans",supportsCyrillic:!0,isStandard:!1,url:"https://cdn.jsdelivr.net/npm/dejavu-fonts-ttf@2.37.3/ttf/DejaVuSans.ttf"},"PT-Sans":{name:"PT-Sans",displayName:"PT Sans",supportsCyrillic:!0,isStandard:!1,url:"https://fonts.gstatic.com/s/ptsans/v17/jizaRExUiTo99u79D0KEwA.woff2"},"Noto-Sans":{name:"Noto-Sans",displayName:"Noto Sans",supportsCyrillic:!0,isStandard:!1,url:"https://fonts.gstatic.com/s/notosans/v36/o-0mIpQlx3QUlC5A4PNB6Ryti20_6n1iPHjcz6L1SoM-jCpoiyD9A-9a6Vs.woff2"}})}static getInstance(){return this.instance||(this.instance=new A),this.instance}async loadFont(t,a,n){try{const l=this.availableFonts[a];if(!l)throw new Error(`Font ${a} not found`);const c=this.containsCyrillic(n),x=`${a}-${Date.now()}`;let i,d=l.supportsCyrillic;if(l.isStandard)i=await this.loadStandardFont(t,l.name);else try{i=await this.loadExternalFont(t,l.url)}catch(f){console.warn(`Failed to load external font ${a}, falling back to Helvetica:`,f),i=await this.loadStandardFont(t,"Helvetica"),d=!1}return this.fontCache.set(x,i),{font:i,fontName:l.displayName,supportsCyrillic:d}}catch(l){return console.warn("Font loading failed, using Helvetica fallback:",l),{font:await t.embedFont(T.Helvetica),fontName:"Helvetica",supportsCyrillic:!1}}}async loadStandardFont(t,a){switch(a){case"Times-Roman":return await t.embedFont(T.TimesRoman);case"Courier":return await t.embedFont(T.Courier);case"Helvetica":default:return await t.embedFont(T.Helvetica)}}async loadExternalFont(t,a){const n=await fetch(a,{mode:"cors",cache:"force-cache"});if(!n.ok)throw new Error(`Failed to fetch font: ${n.status} ${n.statusText}`);const l=await n.arrayBuffer();return await t.embedFont(l)}containsCyrillic(t){return/[\u0400-\u04FF]/.test(t)}getAvailableFonts(){return Object.values(this.availableFonts)}getFontRecommendations(t){return this.containsCyrillic(t)?Object.values(this.availableFonts).filter(n=>n.supportsCyrillic):Object.values(this.availableFonts)}getBestFont(t){return this.containsCyrillic(t)?"DejaVu-Sans":"Helvetica"}fontSupportsText(t,a){const n=this.availableFonts[t];return n?!this.containsCyrillic(a)||n.supportsCyrillic:!1}clearCache(){this.fontCache.clear()}};N(A,"instance");let O=A;const E=class E{constructor(){N(this,"fontManager");this.fontManager=O.getInstance()}static getInstance(){return this.instance||(this.instance=new E),this.instance}async addWatermark(t,a,n){try{if(n?.(10),!t)throw new Error("No file provided");if(t.type!=="application/pdf")throw new Error("File must be a PDF");if(!a.text.trim())throw new Error("Watermark text cannot be empty");n?.(20);const l=await t.arrayBuffer(),c=await q.load(l);c.registerFontkit(J),n?.(40);const x=a.fontName||this.fontManager.getBestFont(a.text),i=await this.fontManager.loadFont(c,x,a.text),d=i.font,f=i.supportsCyrillic;n?.(50);const v=c.getPages(),b=v.length;for(let s=0;s<b;s++){const h=v[s],{width:g,height:p}=h.getSize(),j=f?a.text:this.sanitizeText(a.text),F=this.calculatePosition(a.position,g,p,j,a.fontSize,d);h.drawText(j,{x:F.x,y:F.y,size:a.fontSize,font:d,color:X(a.color.r/255,a.color.g/255,a.color.b/255),opacity:a.opacity/100,rotate:_(a.rotation)});const z=50+s/b*40;n?.(z)}n?.(90);const S=await c.save(),y=new Blob([S],{type:"application/pdf"});return n?.(100),{success:!0,data:y,metadata:{originalSize:t.size,finalSize:y.size,compressionRatio:((t.size-y.size)/t.size*100).toFixed(1),pageCount:b,watermarkApplied:!0,watermarkText:a.text}}}catch(l){return console.error("[WatermarkService] Error:",l),{success:!1,error:l instanceof Error?l.message:"Failed to add watermark"}}}sanitizeText(t){const a={Ð°:"a",Ð±:"b",Ð²:"v",Ð³:"g",Ð´:"d",Ðµ:"e",Ñ‘:"e",Ð¶:"zh",Ð·:"z",Ð¸:"i",Ð¹:"y",Ðº:"k",Ð»:"l",Ð¼:"m",Ð½:"n",Ð¾:"o",Ð¿:"p",Ñ€:"r",Ñ:"s",Ñ‚:"t",Ñƒ:"u",Ñ„:"f",Ñ…:"h",Ñ†:"ts",Ñ‡:"ch",Ñˆ:"sh",Ñ‰:"sch",ÑŠ:'"',Ñ‹:"y",ÑŒ:"'",Ñ:"e",ÑŽ:"yu",Ñ:"ya",Ð:"A",Ð‘:"B",Ð’:"V",Ð“:"G",Ð”:"D",Ð•:"E",Ð:"E",Ð–:"ZH",Ð—:"Z",Ð˜:"I",Ð™:"Y",Ðš:"K",Ð›:"L",Ðœ:"M",Ð:"N",Ðž:"O",ÐŸ:"P",Ð :"R",Ð¡:"S",Ð¢:"T",Ð£:"U",Ð¤:"F",Ð¥:"H",Ð¦:"TS",Ð§:"CH",Ð¨:"SH",Ð©:"SCH",Ðª:'"',Ð«:"Y",Ð¬:"'",Ð­:"E",Ð®:"YU",Ð¯:"YA",Ã :"a",Ã¡:"a",Ã¤:"a",Ã§:"c",Ã¨:"e",Ã©:"e",Ãª:"e",Ã«:"e",Ã¬:"i",Ã­:"i",Ã®:"i",Ã¯:"i",Ã±:"n",Ã²:"o",Ã³:"o",Ã´:"o",Ãµ:"o",Ã¶:"o",Ã¹:"u",Ãº:"u",Ã»:"u",Ã¼:"u",Ã½:"y",Ã¿:"y",Ã€:"A",Ã:"A",Ã„:"A",Ã‡:"C",Ãˆ:"E",Ã‰:"E",ÃŠ:"E",Ã‹:"E",ÃŒ:"I",Ã:"I",ÃŽ:"I",Ã:"I",Ã‘:"N",Ã’:"O",Ã“:"O",Ã”:"O",Ã•:"O",Ã–:"O",Ã™:"U",Ãš:"U",Ã›:"U",Ãœ:"U",Ã:"Y"};let n=t;for(const[l,c]of Object.entries(a))n=n.replace(new RegExp(l,"g"),c);return n.replace(/[^\x00-\x7F]/g,"?")}calculatePosition(t,a,n,l,c,x){try{const i=x.widthOfTextAtSize(l,c),d=c;switch(t){case"center":return{x:(a-i)/2,y:(n-d)/2};case"top-left":return{x:50,y:n-d-50};case"top-right":return{x:a-i-50,y:n-d-50};case"bottom-left":return{x:50,y:50};case"bottom-right":return{x:a-i-50,y:50};default:return{x:(a-i)/2,y:(n-d)/2}}}catch(i){return console.warn("[WatermarkService] Position calculation failed, using center:",i),{x:a/2,y:n/2}}}getWatermarkPreview(t=595,a=842,n){const l={widthOfTextAtSize:(c,x)=>this.sanitizeText(c).length*x*.6};return this.calculatePosition(n.position,t,a,n.text,n.fontSize,l)}getDefaultOptions(){return{text:"DRAFT",fontSize:48,opacity:30,rotation:45,position:"center",color:{r:128,g:128,b:128},fontName:"Helvetica"}}validateOptions(t){const a=[];return t.text.trim()||a.push("Watermark text cannot be empty"),t.text.length>50&&a.push("Watermark text is too long (max 50 characters)"),(t.fontSize<8||t.fontSize>144)&&a.push("Font size must be between 8 and 144"),(t.opacity<5||t.opacity>100)&&a.push("Opacity must be between 5% and 100%"),(t.rotation<-360||t.rotation>360)&&a.push("Rotation must be between -360 and 360 degrees"),{valid:a.length===0,errors:a}}hasNonAsciiCharacters(t){return/[^\x00-\x7F]/.test(t)}getAvailableFonts(){return this.fontManager.getAvailableFonts()}getFontRecommendations(t){return this.fontManager.getFontRecommendations(t)}fontSupportsText(t,a){return this.fontManager.fontSupportsText(t,a)}getNonAsciiWarning(t,a){if(!t)return null;const n=a||this.fontManager.getBestFont(t);return this.fontManager.fontSupportsText(n,t)?null:this.hasNonAsciiCharacters(t)?"Select a font that supports these characters or they will be transliterated.":null}};N(E,"instance");let P=E;const ae=()=>{const[m,t]=u.useState(!1),[a,n]=u.useState(0),[l,c]=u.useState(null),[x,i]=u.useState(null),d=P.getInstance(),f=u.useCallback(async(s,h)=>{try{t(!0),n(0),c(null),i(null);const g=d.validateOptions(h);if(!g.valid)throw new Error(`Invalid options: ${g.errors.join(", ")}`);const p=await d.addWatermark(s,h,j=>{n(j)});if(p.success&&p.data){i(p);const j=R(s.name,"watermarked","pdf");$(p.data,j)}else c(p.error?.message||"Failed to add watermark")}catch(g){const p=g instanceof Error?g.message:"Failed to add watermark";c(p),console.error("[useWatermark] Error:",g)}finally{t(!1)}},[d]),v=u.useCallback(()=>{t(!1),n(0),c(null),i(null)},[]),b=u.useCallback(()=>d.getDefaultOptions(),[d]),S=u.useCallback(s=>d.validateOptions(s),[d]),y=u.useCallback((s,h,g)=>d.getWatermarkPreview(s,h,g),[d]);return{isProcessing:m,progress:a,error:l,result:x,addWatermark:f,resetState:v,getDefaultOptions:b,validateOptions:S,getPreview:y}},se=({files:m,onComplete:t,onClose:a,className:n=""})=>{const{isProcessing:l,progress:c,error:x,result:i,addWatermark:d,resetState:f,getDefaultOptions:v,validateOptions:b,getPreview:S}=ae(),y=P.getInstance(),[s,h]=u.useState(v()),[g,p]=u.useState([]);u.useState(!1);const[j,F]=u.useState(null),[z,re]=u.useState(()=>y.getAvailableFonts());u.useEffect(()=>{const r=b(s);p(r.errors);const o=y.getNonAsciiWarning(s.text,s.fontName);F(o)},[s,b,y]),u.useEffect(()=>{i&&i.success&&t(i)},[i,t]);const B=async()=>{if(m.length===0){p(["Please select a PDF file to add watermark"]);return}if(g.length>0)return;const r=m[0];await d(r,s)},W=r=>{if(r===0)return"0 B";const o=1024,w=["B","KB","MB","GB"],D=Math.floor(Math.log(r)/Math.log(o));return`${parseFloat((r/Math.pow(o,D)).toFixed(1))} ${w[D]}`},k=m[0],I=[{name:"Gray",value:{r:128,g:128,b:128}},{name:"Red",value:{r:220,g:38,b:38}},{name:"Blue",value:{r:59,g:130,b:246}},{name:"Green",value:{r:34,g:197,b:94}},{name:"Black",value:{r:0,g:0,b:0}},{name:"Orange",value:{r:251,g:146,b:60}}],H=[{name:"Center",value:"center"},{name:"Top Left",value:"top-left"},{name:"Top Right",value:"top-right"},{name:"Bottom Left",value:"bottom-left"},{name:"Bottom Right",value:"bottom-right"}],M=(r,o)=>{const w={color:`rgb(${s.color.r}, ${s.color.g}, ${s.color.b})`,opacity:s.opacity/100,fontSize:`${Math.max(12,s.fontSize/3)}px`,fontWeight:"bold",userSelect:"none",pointerEvents:"none"};switch(r){case"center":return{...w,top:"50%",left:"50%",transform:`translate(-50%, -50%) rotate(${o}deg)`};case"top-left":return{...w,top:"10px",left:"10px",transform:`rotate(${o}deg)`};case"top-right":return{...w,top:"10px",right:"10px",transform:`rotate(${o}deg)`};case"bottom-left":return{...w,bottom:"10px",left:"10px",transform:`rotate(${o}deg)`};case"bottom-right":return{...w,bottom:"10px",right:"10px",transform:`rotate(${o}deg)`};default:return{...w,top:"50%",left:"50%",transform:`translate(-50%, -50%) rotate(${o}deg)`}}};return e.jsxs("div",{className:`bg-white rounded-lg shadow-lg ${n}`,children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add Watermark"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Add text watermarks to protect your documents"})]}),e.jsx(C,{variant:"ghost",onClick:a,children:"âœ•"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 p-6 min-h-[600px]",children:[e.jsxs("div",{className:"space-y-6 lg:border-r lg:border-gray-200 lg:pr-6",children:[k&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"PDF Preview"}),e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 mb-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-2xl",children:"ðŸ“„"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:k.name}),e.jsx("p",{className:"text-sm text-gray-500",children:W(k.size)})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Watermark Preview"}),!s.text.trim()&&e.jsx("span",{className:"text-sm text-gray-500",children:"Enter text to see preview"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border-2 border-dashed border-gray-300 p-6",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"relative bg-white border border-gray-300 rounded-lg shadow-sm",style:{width:"280px",height:"360px",aspectRatio:"210/297"},children:[e.jsxs("div",{className:"absolute inset-2 border border-gray-100 rounded",children:[e.jsx("div",{className:"absolute inset-4 opacity-20",children:Array.from({length:20},(r,o)=>e.jsx("div",{className:"h-2 bg-gray-200 rounded mb-2",style:{width:`${Math.random()*60+40}%`}},o))}),s.text.trim()&&e.jsx("div",{className:"absolute pointer-events-none select-none font-bold",style:M(s.position,s.rotation),children:s.text})]}),e.jsx("div",{className:"absolute -bottom-6 left-0 text-xs text-gray-500",children:"Page 1"})]})}),s.text.trim()?e.jsx("p",{className:"text-xs text-gray-500 mt-4 text-center",children:"Live preview of watermark placement and styling"}):e.jsx("p",{className:"text-sm text-gray-400 mt-4 text-center",children:"Preview will appear when you enter watermark text"})]})]})]}),e.jsxs("div",{className:"space-y-6 lg:pl-2",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Watermark Settings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Watermark Text *"}),e.jsx("input",{type:"text",value:s.text,onChange:r=>h(o=>({...o,text:r.target.value})),disabled:l,placeholder:"Enter watermark text (e.g., CONFIDENTIAL, DRAFT)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:50}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[s.text.length,"/50 characters"]}),j&&e.jsx("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-blue-400 mr-2 mt-0.5",children:"ðŸ’¡"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-blue-800 font-medium text-sm",children:"Font Recommendation"}),e.jsx("p",{className:"text-blue-700 text-sm mt-1",children:j})]})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Family"}),e.jsx("select",{value:s.fontName||"Helvetica",onChange:r=>h(o=>({...o,fontName:r.target.value})),disabled:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:z.map(r=>e.jsxs("option",{value:r.name,children:[r.displayName," ",r.supportsCyrillic?"(Supports Cyrillic)":""]},r.name))}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:y.fontSupportsText(s.fontName||"Helvetica",s.text)?"âœ… This font supports your text":"âš ï¸ This font may not support all characters in your text"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Font Size: ",s.fontSize,"px"]}),e.jsx("input",{type:"range",min:"8",max:"144",step:"4",value:s.fontSize,onChange:r=>h(o=>({...o,fontSize:parseInt(r.target.value)})),disabled:l,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"Small (8px)"}),e.jsx("span",{children:"Large (144px)"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Opacity: ",s.opacity,"%"]}),e.jsx("input",{type:"range",min:"5",max:"100",step:"5",value:s.opacity,onChange:r=>h(o=>({...o,opacity:parseInt(r.target.value)})),disabled:l,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"Transparent (5%)"}),e.jsx("span",{children:"Opaque (100%)"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Rotation: ",s.rotation,"Â°"]}),e.jsx("input",{type:"range",min:"-90",max:"90",step:"15",value:s.rotation,onChange:r=>h(o=>({...o,rotation:parseInt(r.target.value)})),disabled:l,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"-90Â°"}),e.jsx("span",{children:"0Â°"}),e.jsx("span",{children:"90Â°"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:H.map(r=>e.jsx("button",{onClick:()=>h(o=>({...o,position:r.value})),disabled:l,className:`px-3 py-2 text-sm border rounded-lg transition-colors ${s.position===r.value?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:r.name},r.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),e.jsx("div",{className:"grid grid-cols-6 gap-2",children:I.map(r=>e.jsx("button",{onClick:()=>h(o=>({...o,color:r.value})),disabled:l,className:`relative w-12 h-8 border-2 rounded-lg transition-transform hover:scale-105 ${s.color.r===r.value.r&&s.color.g===r.value.g&&s.color.b===r.value.b?"border-blue-500 ring-2 ring-blue-200":"border-gray-300"}`,style:{backgroundColor:`rgb(${r.value.r}, ${r.value.g}, ${r.value.b})`},title:r.name,children:s.color.r===r.value.r&&s.color.g===r.value.g&&s.color.b===r.value.b&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white text-xs",children:"âœ“"})},r.name))})]})]})]})]}),l&&e.jsxs("div",{className:"px-6 mb-6",children:[e.jsx(G,{value:c,className:"mb-2",animated:!0}),e.jsxs("p",{className:"text-sm text-gray-600 text-center",children:["Adding watermark... ",Math.round(c),"%"]})]}),(x||g.length>0)&&e.jsx("div",{className:"mx-6 mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-red-400 mr-2 mt-0.5",children:"âš ï¸"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-red-800 font-medium",children:"Error"}),x&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:x}),g.map((r,o)=>e.jsx("p",{className:"text-red-600 text-sm mt-1",children:r},o))]})]})}),e.jsx("div",{className:"mx-6 mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-blue-400 mr-2 mt-0.5",children:"â„¹ï¸"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-blue-800 font-medium",children:"Privacy & Security"}),e.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"Watermarks are added locally in your browser. Your PDF never leaves your device, ensuring complete privacy and security."})]})]})}),i&&i.success&&i.data&&e.jsx("div",{className:"mx-6 mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-green-400 mr-2 mt-0.5",children:"âœ…"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-green-800 font-medium",children:"Watermark Added Successfully!"}),e.jsx("p",{className:"text-green-700 text-sm mt-1",children:"Your watermarked PDF has been downloaded automatically."}),e.jsx("div",{className:"mt-3",children:e.jsx(C,{variant:"outline",onClick:()=>{const r=R(k?.name||"watermarked","watermarked","pdf");$(i.data,r)},className:"text-green-700 border-green-300 hover:bg-green-100",children:"ðŸ“¥ Download Again"})})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-3 px-6 pb-6 border-t border-gray-200 pt-6",children:[e.jsx(C,{variant:"outline",onClick:a,disabled:l,children:i&&i.success?"Process Another File":"Cancel"}),(!i||!i.success)&&e.jsx(C,{variant:"primary",onClick:B,disabled:m.length===0||l||g.length>0||!s.text.trim(),loading:l,children:l?"Adding Watermark...":"Add Watermark"})]})]})},fe=()=>{const{t:m}=K(),t=Y.watermark,[a,n]=u.useState([]),[l,c]=u.useState(!1);u.useEffect(()=>{window.scrollTo(0,0)},[]);const x=f=>{const v=f.filter(b=>b.type==="application/pdf");v.length>0&&(n(v),c(!0))},i=f=>{console.log("Watermark completed:",f)},d=()=>{c(!1),n([])};return e.jsxs(e.Fragment,{children:[e.jsx(V,{title:t.title,description:t.description,keywords:t.keywords,canonical:t.canonical,structuredData:t.structuredData}),e.jsxs("div",{className:"min-h-screen bg-gradient-mesh flex flex-col",children:[e.jsx(Q,{}),e.jsxs("main",{className:"flex-grow container mx-auto px-4 pt-20 pb-8",children:[e.jsxs("header",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:m("pages.tools.watermark.pageTitle")}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:m("pages.tools.watermark.pageDescription")})]}),e.jsx("section",{className:"mb-12",children:l?e.jsx(se,{files:a,onComplete:i,onClose:d}):e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx(ee,{onFilesSelected:x,multiple:!1,accept:"application/pdf",acceptedTypes:["application/pdf"],title:m("pages.tools.watermark.pageTitle"),subtitle:"Add watermarks to protect your PDFs",emoji:"ðŸ’§",supportedFormats:"PDF files"}),e.jsxs("div",{className:"text-center text-gray-600 mt-6",children:[e.jsx("p",{className:"mb-2",children:e.jsx("strong",{children:m("pages.tools.watermark.steps.upload")})}),e.jsx("p",{className:"mb-2",children:e.jsx("strong",{children:m("pages.tools.watermark.steps.configure")})}),e.jsx("p",{children:e.jsx("strong",{children:m("pages.tools.watermark.steps.download")})})]})]})}),e.jsx(te,{currentTool:"watermark",className:"mb-8"})]}),e.jsx(Z,{})]})]})};export{fe as default};
