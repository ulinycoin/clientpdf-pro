export const ICONS = {
    pen: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 19l7-7 3 3-7 7-3-3z"></path><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path><path d="M2 2l7.586 7.586"></path><circle cx="11" cy="11" r="2"></circle></svg>`,
    type: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="4 7 4 4 20 4 20 7"></polyline><line x1="9" y1="20" x2="15" y2="20"></line><line x1="12" y1="4" x2="12" y2="20"></line></svg>`,
    feather: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"></path><line x1="16" y1="8" x2="2" y2="22"></line><line x1="17.5" y1="15" x2="9" y2="15"></line></svg>`,
    fileInput: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4"></path><polyline points="14 2 14 8 20 8"></polyline><path d="M2 15h10"></path><path d="M9 18l3-3-3-3"></path></svg>`,
    stamp: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 22h14"></path><path d="M19.27 13.73A2.5 2.5 0 0 0 17.5 13h-11A2.5 2.5 0 0 0 4 15.5V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-1.5c0-.66-.26-1.3-.73-1.77Z"></path><path d="M14 13V8.5C14 7 15 7 15 5a3 3 0 0 0-6 0c0 2 1 2 1 3.5V13"></path></svg>`,
    layers: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline></svg>`,
    files: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15.5 2H8.6c-.4 0-.8.2-1.1.5-.3.3-.5.7-.5 1.1v12.8c0 .4.2.8.5 1.1.3.3.7.5 1.1.5h9.8c.4 0 .8-.2 1.1-.5.3-.3.5-.7.5-1.1V6.5L15.5 2z"></path><path d="M3 7.6v12.8c0 .4.2.8.5 1.1.3.3.7.5 1.1.5h9.8"></path><path d="M15 2v5h5"></path></svg>`,
    scissors: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="6" cy="6" r="3"></circle><circle cx="6" cy="18" r="3"></circle><line x1="20" y1="4" x2="8.12" y2="15.88"></line><line x1="14.47" y1="14.48" x2="20" y2="20"></line><line x1="8.12" y1="8.12" x2="12" y2="12"></line></svg>`,
    minimize: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="4 14 10 14 10 20"></polyline><polyline points="20 10 14 10 14 4"></polyline><line x1="14" y1="10" x2="21" y2="3"></line><line x1="3" y1="21" x2="10" y2="14"></line></svg>`,
    layout: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line></svg>`,
    rotate: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16.5l-1.5-1.5-1.5 1.5"></path><path d="M4.5 1.5L3 3l1.5 1.5"></path><path d="M3 3h16a3 3 0 0 1 3 3v13"></path><path d="M21 21H5a3 3 0 0 1-3-3V5"></path></svg>`,
    trash: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>`,
    fileStack: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 7h-3a2 2 0 0 1-2-2V2"></path><path d="M21 6v6.5c0 .8-.7 1.5-1.5 1.5h-7c-.8 0-1.5-.7-1.5-1.5v-9c0-.8.7-1.5 1.5-1.5H17l4 4z"></path><path d="M7 8v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H15"></path><path d="M3 12v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H11"></path></svg>`,
    table: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-7z"></path><path d="M3 9h18"></path><path d="M3 15h18"></path><path d="M9 3v18"></path></svg>`,
    scanText: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 7V5a2 2 0 0 1 2-2h2"></path><path d="M17 3h2a2 2 0 0 1 2 2v2"></path><path d="M21 17v2a2 2 0 0 1-2 2h-2"></path><path d="M7 21H5a2 2 0 0 1-2-2v-2"></path><path d="M7 8h8"></path><path d="M7 12h10"></path><path d="M7 16h6"></path></svg>`,
    fileText: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>`,
    fileOutput: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4"></path><polyline points="14 2 14 8 20 8"></polyline><path d="M2 15h10"></path><path d="M5 12l-3 3 3 3"></path></svg>`,
    images: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 22H4a2 2 0 0 1-2-2V6"></path><path d="M22 18V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2z"></path><circle cx="14" cy="9" r="2"></circle><path d="m9 16 5-6 6 5"></path></svg>`,
    image: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></svg>`,
    extract: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>`,
    shield: `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>`,

    // Category Icons
    catEdit: `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>`,
    catOrganize: `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg>`,
    catData: `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg>`,
    catSecurity: `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>`
};

export interface Tool {
    id: string;
    name: string;
    desc: string;
    icon: keyof typeof ICONS;
    hash: string;
}

export interface Category {
    name: string;
    icon: keyof typeof ICONS;
    tools: Tool[];
}

export const CATEGORIES: Category[] = [
    {
        name: "Content Design",
        icon: "catEdit",
        tools: [
            { id: 'edit-text-pdf', name: 'Smart Editor', desc: 'Replace text and redact info with pixel precision.', icon: 'pen', hash: 'edit-text' },
            { id: 'add-text-pdf', name: 'Text Overlay', desc: 'Annotate and label multi-page documents.', icon: 'type', hash: 'add-text' },
            { id: 'sign-pdf', name: 'E-Signatures', desc: 'Sign documents legally in private sandbox.', icon: 'feather', hash: 'sign' },
            { id: 'add-form-fields-pdf', name: 'Form Fields', desc: 'Create interactive fillable PDF forms.', icon: 'fileInput', hash: 'add-form-fields' },
            { id: 'watermark-pdf', name: 'Watermark', desc: 'Add secure stamps and copy protection.', icon: 'stamp', hash: 'watermark' },
            { id: 'flatten-pdf', name: 'Flatten PDF', desc: 'Merge layers and lock form fields.', icon: 'layers', hash: 'flatten' }
        ]
    },
    {
        name: "Organize & Optimize",
        icon: "catOrganize",
        tools: [
            { id: 'merge-pdf', name: 'Merge PDF', desc: 'Combine multiple documents into one.', icon: 'files', hash: 'merge' },
            { id: 'split-pdf', name: 'Split PDF', desc: 'Divide documents or extract ranges.', icon: 'scissors', hash: 'split' },
            { id: 'compress-pdf', name: 'Compress', desc: 'Reduce file size without quality loss.', icon: 'minimize', hash: 'compress' },
            { id: 'organize-pdf', name: 'Organize', desc: 'Reorder, rotate, and manage pages.', icon: 'layout', hash: 'pages' },
            { id: 'rotate-pdf', name: 'Rotate', desc: 'Fix orientation of individual pages.', icon: 'rotate', hash: 'rotate' },
            { id: 'delete-pages-pdf', name: 'Delete Pages', desc: 'Remove unwanted pages instantly.', icon: 'trash', hash: 'delete-pages' },
            { id: 'extract-pages-pdf', name: 'Extract Pages', desc: 'Create new PDFs from selected pages.', icon: 'fileStack', hash: 'extract-pages' }
        ]
    },
    {
        name: "Data & Conversion",
        icon: "catData",
        tools: [
            { id: 'tables-pdf', name: 'Tables Pro', desc: 'Convert Excel/CSV to structured PDF tables.', icon: 'table', hash: 'tables' },
            { id: 'ocr-pdf', name: 'Smart OCR', desc: 'Extract text from scans using Tesseract.', icon: 'scanText', hash: 'ocr' },
            { id: 'pdf-to-word', name: 'PDF to Word', desc: 'Convert PDFs to editable DOCX files.', icon: 'fileText', hash: 'pdf-to-word' },
            { id: 'word-to-pdf', name: 'Word to PDF', desc: 'Create PDFs from Microsoft Word docs.', icon: 'fileOutput', hash: 'word-to-pdf' },
            { id: 'images-to-pdf', name: 'Images to PDF', desc: 'Convert JPG/PNG to PDF documents.', icon: 'images', hash: 'images-to-pdf' },
            { id: 'pdf-to-images', name: 'PDF to Images', desc: 'Save pages as high-quality images.', icon: 'image', hash: 'pdf-to-images' },
            { id: 'extract-images-pdf', name: 'Extract Images', desc: 'Pull all images from a PDF file.', icon: 'extract', hash: 'extract-images' }
        ]
    },
    {
        name: "Security",
        icon: "catSecurity",
        tools: [
            { id: 'protect-pdf', name: 'Protect PDF', desc: 'Encrypt documents with AES-256 standard.', icon: 'shield', hash: 'protect' }
        ]
    }
];

export const ALL_TOOLS = CATEGORIES.flatMap(cat => cat.tools);

export function getToolById(id: string): Tool | undefined {
    return ALL_TOOLS.find(t => t.id === id);
}

export function getCategoryByToolId(id: string): Category | undefined {
    return CATEGORIES.find(cat => cat.tools.some(t => t.id === id));
}

export function getRelatedTools(id: string, limit: number = 4): Tool[] {
    const category = getCategoryByToolId(id);
    if (!category) return ALL_TOOLS.filter(t => t.id !== id).slice(0, limit);

    const related = category.tools.filter(t => t.id !== id);
    if (related.length >= limit) return related.slice(0, limit);

    // Fill up with other tools if not enough in category
    const others = ALL_TOOLS.filter(t => t.id !== id && !related.some(r => r.id === t.id));
    return [...related, ...others].slice(0, limit);
}
