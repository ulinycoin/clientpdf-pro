---
import BaseLayout from '../layouts/BaseLayout.astro';
import Breadcrumbs from './Breadcrumbs.astro';

interface BreadcrumbItem {
  label: string;
  href?: string;
}

interface Props {
  title: string;
  description: string;
  heading?: string;
  breadcrumbs?: BreadcrumbItem[];
  canonical?: string;
}

const { title, description, heading, breadcrumbs, canonical } = Astro.props;
---

<BaseLayout title={title} description={description} canonical={canonical}>
  {breadcrumbs && <Breadcrumbs items={breadcrumbs} />}

  <article class="content-page">
    <div class="hero-glow"></div>
    {breadcrumbs && <Breadcrumbs items={breadcrumbs} />}
    {heading && <h1 class="page-heading">{heading}</h1>}
    <div class="page-content">
      <slot />
    </div>
  </article>
</BaseLayout>

<style>
  .content-page {
    max-width: 1000px;
    margin: 0 auto;
    padding: 120px 7vw 80px;
    position: relative;
  }

  .hero-glow {
    position: absolute;
    top: -100px;
    left: 50%;
    transform: translateX(-50%);
    width: 120%;
    height: 400px;
    background: radial-gradient(circle at 50% 0%, rgba(59, 130, 246, 0.08) 0%, transparent 70%);
    pointer-events: none;
    z-index: 0;
  }

  .page-heading {
    position: relative;
    z-index: 1;
    font-family: 'Outfit', sans-serif;
    font-size: clamp(2.5rem, 5vw, 3.5rem);
    font-weight: 800;
    color: #fff;
    margin: 40px 0 60px 0;
    letter-spacing: -0.03em;
    line-height: 1.1;
  }

  .page-content {
    position: relative;
    z-index: 1;
    font-size: 1.0625rem;
    color: var(--text-main);
    opacity: 0.9;
    line-height: 1.8;
  }

  .page-content :global(h2) {
    font-family: 'Outfit', sans-serif;
    font-size: 2rem;
    font-weight: 700;
    color: #fff;
    margin: 64px 0 24px 0;
    letter-spacing: -0.01em;
  }

  .page-content :global(h3) {
    font-family: 'Outfit', sans-serif;
    font-size: 1.5rem;
    font-weight: 600;
    color: #fff;
    margin: 40px 0 16px 0;
  }

  .page-content :global(p) {
    margin: 0 0 24px 0;
  }

  .page-content :global(ul),
  .page-content :global(ol) {
    margin: 0 0 32px 0;
    padding-left: 24px;
    list-style: none;
  }

  .page-content :global(li) {
    position: relative;
    margin-bottom: 16px;
    padding-left: 20px;
  }

  .page-content :global(ul li::before) {
    content: "â€¢";
    position: absolute;
    left: 0;
    color: var(--accent-light);
    font-weight: bold;
  }

  .page-content :global(a) {
    color: var(--accent-light);
    text-decoration: none;
    border-bottom: 1px solid rgba(96, 165, 250, 0.2);
    transition: all 0.2s;
  }

  .page-content :global(a:hover) {
    color: #fff;
    border-bottom-color: #fff;
  }

  .page-content :global(strong) {
    font-weight: 700;
    color: #fff;
  }

  .page-content :global(code) {
    background: rgba(255, 255, 255, 0.05);
    padding: 3px 8px;
    border-radius: 6px;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    font-size: 0.9em;
    color: var(--accent-light);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  .page-content :global(.info-box) {
    background: rgba(59, 130, 246, 0.05);
    border: 1px solid rgba(59, 130, 246, 0.2);
    border-left: 4px solid var(--accent-blue);
    padding: 24px 32px;
    border-radius: 20px;
    margin: 40px 0;
    color: var(--text-main);
  }

  .page-content :global(.card-grid) {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 24px;
    margin: 48px 0;
  }

  .page-content :global(.card) {
    padding: 32px;
    background: rgba(255, 255, 255, 0.02);
    backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    border-radius: 24px;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .page-content :global(.card:hover) {
    border-color: rgba(255, 255, 255, 0.2);
    transform: translateY(-5px);
    background: rgba(255, 255, 255, 0.04);
  }

  @media (max-width: 768px) {
    .content-page { padding: 100px 5vw 60px; }
    .page-heading { font-size: 2rem; margin: 20px 0 40px 0; }
    .page-content :global(h2) { font-size: 1.75rem; margin-top: 48px; }
    .page-content :global(.card-grid) { grid-template-columns: 1fr; }
  }
</style>
